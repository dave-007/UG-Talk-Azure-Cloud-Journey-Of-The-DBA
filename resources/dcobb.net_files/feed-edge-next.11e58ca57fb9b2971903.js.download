(window.webpackJsonp=window.webpackJsonp||[]).push([["feed-edge-next"],{FaCY:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("G82u");class i{}i.followedTopics=new o.a("FollowedTopics"),i.followedTopicsFailed=new o.a("FollowedTopicsFailedSignature"),i.recommendedTopics=new o.a("RecommendedTopics"),i.recommendedTopicsFailed=new o.a("RecommendedTopicsFailed"),i.topic=new o.a("Topic"),i.topicFailed=new o.a("TopicsFailed"),i.topics=new o.a("Topics"),i.topicsFailed=new o.a("TopicsFailed"),i.topicGroup=new o.a("TopicGroup"),i.topicGroupFailed=new o.a("TopicGroupFailed"),i.updateTopicFollowedState=new o.a("UpdateTopicFollowedState"),i.updateTopicFollowedStateFailed=new o.a("UpdateTopicFollowedStateFailed")},Nt1x:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("G82u");class i{}i.contentRegionSizeChanged=new o.a("contentRegionSizeChanged")},srBb:function(e,t,n){"use strict";n.r(t),n.d(t,"FeedEdgeNext",(function(){return me})),n.d(t,"FeedEdgeNextConnector",(function(){return ie})),n.d(t,"FeedEdgeNextReducer",(function(){return ae})),n.d(t,"FeedEdgeNextStickyConstants",(function(){return B})),n.d(t,"ToolingInfo",(function(){return ve}));var o,i=n("+viU"),s=n("4k19"),a=n("5mwN"),c=n("q/RY"),r=n("iX/D"),d=n("+Tyi");!function(e){e.belowTheFold="belowTheFold",e.breakingNews="c_brn",e.cardActions="c_cac",e.contentGrid="g_cnt",e.feed="p_feed",e.header="p_header",e.navGrid="g_nav",e.notificationBell="c_ntfbl",e.pivotsContent="c_pvc",e.pivotsNav="c_pvn",e.poweredBy="c_pwby",e.recommendedSites="c_rs",e.recommendedSitesGrid="g_rs",e.searchHistory="c_srchh",e.layoutSwitcher="c_ls"}(o||(o={}));var l=n("ERkP"),p=n.n(l),u=n("o1qX");let g,m,v,y;function h(e){window.requestAnimationFrame(()=>{const t=e&&e.length;for(let n=0;n<t;n++){e[n].isIntersecting?m.classList.remove(y):m.classList.add(y)}})}const f={initialize:function(e){y=e,m=document.getElementById(o.feed),g=document.getElementById(o.navGrid)},updateObserver:function(){g||(g=document.getElementById(o.navGrid)),g&&(v||function(){if(!window.IntersectionObserver)return;v=new window.IntersectionObserver(h,{root:null,rootMargin:"0px 0px -100px 0px",threshold:.5}),v.observe(g)}())},removeListeners:function(){v&&(v.unobserve(g),v=null,g=null,m.classList.remove(y))}};const b={initialize:function(e){f.initialize(e)},updateObservers:function(e){e?f.updateObserver():f.removeListeners()},removeListeners:function(){f.removeListeners()}};var w=n("AV1t"),O=n("0fst"),T=n("tacz"),k=n("Zn5T"),j=n("3Amp"),S=n("1aPi"),C=n("hWAW");const B={pivotsDistanceToTop:108,poweredByDistanceToTop:116,pivotsRowHeight:52};var F=n("3ZGc");let N,E,I,L,D,x,G,P,_,M,z;function R(){D.removeEventListener("click",H),D.removeEventListener("keydown",H)}function A(){const e=Math.max(document.documentElement.scrollTop,document.body.scrollTop),t=L?parseInt(L.style.height):window.innerHeight,n=document.getElementById(o.recommendedSites),i=n?n.offsetHeight:0;if(N&&!G.state.stickyPivotsNav&&e-M-z>=t-B.pivotsDistanceToTop+i){N&&(N.style.left=Object(F.a)(N.getBoundingClientRect().left)),I&&(I.style.left=Object(F.a)(I.getBoundingClientRect().left)),E&&(E.style.left=Object(F.a)(E.getBoundingClientRect().left),E.style.top=Object(F.a)(B.poweredByDistanceToTop+E.offsetHeight/4));L&&L.offsetHeight!==t||G.setState({stickyPivotsNav:!0}),x&&(x.style.display="none")}else N&&G.state.stickyPivotsNav&&(e<=t-B.pivotsDistanceToTop+i?(G.setState({stickyPivotsNav:!1}),x&&x.style.removeProperty("display")):x&&("none"===x.style.display?0===e&&x.style.removeProperty("display"):x.style.display="none"))}function U(){Math.max(document.documentElement.scrollTop,document.body.scrollTop)<=(L?parseInt(L.style.height):window.innerHeight)-B.pivotsDistanceToTop&&(G.setState({stickyPivotsNav:!1}),x&&x.style.removeProperty("display"))}function H(){D.style.zIndex=String(O.a.Dialog);const e=t=>{D.contains(t.target)||(D.style.zIndex=null,document.removeEventListener("mouseup",e),L.removeEventListener("keydown",e))};document.addEventListener("mouseup",e),L.addEventListener("keydown",e)}const q={initialize:function(e){N=document.getElementById(o.pivotsNav),E=document.getElementById(o.poweredBy),L=document.getElementById(o.header),x=document.getElementById(o.searchHistory),I=document.getElementById(o.notificationBell),M=Object(C.a)(),z=0,G=e,window.addEventListener("scroll",A,{passive:!0}),P=Object(S.a)(A,300,{leading:!1,trailing:!0}),window.addEventListener("resize",P),_=new MutationObserver(e=>{for(const t of e)"attributes"===t.type&&"style"===t.attributeName&&U()}),_.observe(L,{attributes:!0,attributeFilter:["style"]}),function(){w.a.hasExperienceRegistered(k.a.bannerManager)&&T.a.updateBannerHeight.registerObserver(e=>{z=e.params[0]});j.a.cookieConsentStatus.registerObserver(e=>{M=0})}()},updateManager:function(){D&&R(),D=document.getElementById(o.navGrid),D&&(D.addEventListener("click",H),D.addEventListener("keydown",H))},removeListeners:function(){window.removeEventListener("scroll",A),window.removeEventListener("resize",P),R(),_&&_.disconnect()},verifyBreakpoints:A};class W extends a.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},a.b),{designSystem:void 0,domCompleteTrackingId:void 0,layout:void 0,managedClasses:void 0,reportDomComplete:void 0,selectedFeedSetting:void 0,currentBackgroundImageType:void 0}),this.state={stickyPivotsNav:!1}}componentDidMount(){super.componentDidMount(),q.initialize(this),q.updateManager(),q.verifyBreakpoints(),b.initialize(this.props.managedClasses.transparentBackground),b.updateObservers(this.props.selectedFeedSetting===s.f.headingsOnly&&this.props.currentBackgroundImageType!==s.a.off)}componentDidUpdate(e){super.componentDidUpdate(),e.selectedFeedSetting===s.f.off&&this.props.selectedFeedSetting!==s.f.off&&q.updateManager(),e.selectedFeedSetting===this.props.selectedFeedSetting&&e.currentBackgroundImageType===this.props.currentBackgroundImageType||b.updateObservers(this.props.selectedFeedSetting===s.f.headingsOnly&&this.props.currentBackgroundImageType!==s.a.off)}componentWillUnmount(){q.removeListeners()}render(){return super.render(),this.styleLayout(this.layoutMapper(this.props.layout)),p.a.createElement(d.a,Object.assign({},this.props.layout,{className:this.generateClassNames(this.props.managedClasses.feed)}))}endDomCompleteMilestone(){this.props.reportDomComplete&&-1===this.domCompleteTracker.getEnd()&&Object(c.a)(this.props.domCompleteTrackingId,()=>{this.dependenciesDomComplete(this.domCompleteTracker,this.props.onExperienceMilestoneTimingUpdate)})}dependenciesDomComplete(e,t){e.setEnd(),t&&t(r.a.domComplete,void 0,e.getEnd())}layoutMapper(e){const t=new Map;if(e&&e.children){const n=e.children;if(n)for(let e=0;e<n.length;e++){const o=n[e];t[o.id]=o;const i=o.children;if(i)for(let e=0;e<i.length;e++){const n=i[e];t[n.id]=n}}}return t}styleLayout(e){if(e[o.pivotsNav]){const{managedClasses:t}=this.props;e[o.navGrid]&&(e[o.navGrid].className=Object(u.a)(t.navGrid,[t.sticky,this.state.stickyPivotsNav])),e[o.contentGrid]&&(e[o.contentGrid].className=Object(u.a)(t.contentGrid,[t.stickyPivotContent,this.state.stickyPivotsNav])),e[o.poweredBy]&&(e[o.poweredBy].className=t.poweredBy),e[o.notificationBell]&&(e[o.notificationBell].className=t.notificationBell),e[o.recommendedSitesGrid]&&(e[o.recommendedSitesGrid].className=t.recommendedSites),e[o.layoutSwitcher]&&(e[o.layoutSwitcher].className=t.layoutSwitcher)}}}W.defaultProps={experienceName:"FeedEdgeNext"};var Y=n("D57K"),$=n("19qY"),J=n("Nt1x"),Z=n("eoyk"),K=n("WfnD"),X=n("s9+9"),Q=n("G82u");class V{}V.layoutUpdated=new Q.a("layoutUpdated");var ee,te=n("sRsp");(ee||(ee={})).inspect=function(e){const t=te.a.inspect(e);return t.props=Object.assign(Object.assign({},t.props),e.config.styles),{props:{designSystem:e.config.designSystemOverrides,layout:t.props,selectedFeedSetting:e.state.selectedFeedSetting,currentBackgroundImageType:e.state.currentBackgroundImageType},missingChildren:t.missingChildren}};var ne=n("FaCY"),oe=n("PZnQ");class ie extends K.a{constructor(e,t,n,o,i,s,a){if(super(e,t,n,o,i,s,a),this.reportDomComplete=!1,!s.enablePivotHoverList){const e=s.composition,t=e.page.children.findIndex(e=>"g_nav_hover"===e.id);t>=0&&e.page.children.splice(t,1)}this.layoutDataConnector=n.connector(X.a.ChromiumPageSettings)||n.connector(X.a.PageLayout)}mapStateToProps(e){if(e.selectedFeedSetting===s.f.off)return Object.assign(Object.assign({},e),{layout:null});const t={config:this.config,children:this.childComponentInstanceList,state:e},n=ee.inspect(t);return Object.assign(Object.assign(Object.assign({},n.props),{reportDomComplete:this.reportDomComplete,domCompleteTrackingId:this.namespace}),this.telemetryTags)}onComponentConnect(e){return Object(Y.b)(this,void 0,void 0,(function*(){yield K.a.prototype.onComponentConnect.call(this,e),this.childMap.forEach(e=>{Object(c.c)(this.namespace,{experienceNamespace:e.namespace,experienceType:e.experienceType})}),this.reportDomComplete=!0,Z.a.updateLayout.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const n=t[0].selectedFeedDisplaySetting,o=t[0].currentBackgroundImageType;V.layoutUpdated.getActionSender(this).send(n,o)}),$.a.layoutAnimationComplete.registerObserver(()=>this.onLayoutChange());const{selectedFeedDisplaySetting:t,currentBackgroundImageType:n}=yield this.layoutDataConnector.getLayoutStateAsync();V.layoutUpdated.getActionSender(this).send(t,n),ne.a.updateTopicFollowedState.registerObserver(()=>Object(Y.b)(this,void 0,void 0,(function*(){t===s.f.headingsOnly&&Object(oe.d)()})))}))}onLayoutChange(){return Object(Y.b)(this,void 0,void 0,(function*(){const{selectedFeedDisplaySetting:e}=yield this.layoutDataConnector.getLayoutStateAsync();e!==s.f.off&&J.a.contentRegionSizeChanged.getActionSender(this).send(),q.verifyBreakpoints()}))}}var se=n("05Au");class ae{reduce(e,t){if(!e)return{selectedFeedSetting:s.f.headingsOnly,currentBackgroundImageType:s.a.bing};if(!t)return e;let n,o=!1;return o=o||se.a.handleAction(t,V.layoutUpdated,(e,t)=>{n={selectedFeedSetting:e,currentBackgroundImageType:t}}),n||e}}var ce=n("Jw3B"),re=n("C8K2"),de=n("MF9s"),le=n("objN");let pe=null,ue=null;n("0dho").a.fiveColSupported()?(pe={[Object(ce.e)(null,ce.a.c2)]:{width:Object(F.a)(re.c)},[Object(ce.f)(ce.a.c3)]:{width:Object(F.a)(re.d)},[Object(ce.f)(ce.a.c4)]:{width:Object(F.a)(re.e)},[Object(ce.e)(ce.a.c5,null)]:{width:Object(F.a)(re.f)}},ue={[Object(ce.e)(null,ce.a.c2)]:{width:Object(F.a)(re.c)},[Object(ce.f)(ce.a.c3)]:{width:Object(F.a)(re.d)},[Object(ce.f)(ce.a.c4)]:{width:Object(F.a)(re.e)},[Object(ce.e)(ce.a.c5,null)]:{width:Object(F.a)(re.f)}}):(pe={[Object(ce.e)(null,ce.a.c2)]:{width:Object(F.a)(re.c)},[Object(ce.f)(ce.a.c3)]:{width:Object(F.a)(re.d)},[Object(ce.e)(ce.a.c4,null)]:{width:Object(F.a)(re.e)}},ue={[Object(ce.e)(null,ce.a.c2)]:{width:Object(F.a)(re.c)},[Object(ce.f)(ce.a.c3)]:{width:Object(F.a)(re.d)},[Object(ce.e)(ce.a.c4,null)]:{width:Object(F.a)(re.e)}});const ge={contentGrid:pe,feed:{"justify-items":"center",transition:"background-color 0.3s cubic-bezier(.3, .2, .2, 1)",width:"100%"},navGrid:ue,notificationBell:{"align-items":"center",display:"flex","justify-content":"center"},poweredBy:{"align-items":"center",display:"flex",height:"100%"},layoutSwitcher:{"align-self":"center"},recommendedSites:{width:"100%"},stickyPivotContent:{"margin-top":Object(F.a)(B.pivotsRowHeight)},sticky:{background:de.k,left:"50%",padding:"0 20%",position:"fixed",top:Object(F.a)(B.pivotsDistanceToTop),transform:"translate(-50%, 0)","z-index":""+(O.a.Nav+1)},transparentBackground:{"background-color":"rgba(0,0,0, 0.32)!important","& $notificationBell":{"& button":{fill:"white"}},"& $pivotsNav, $poweredBy, #p_feed, #c_pvc div div div":{background:"rgba(0,0,0,0)"},"& #pivotsNav, #c_pvc div div div":{"& span":{color:"white"}},"& $poweredBy":{"& span:not(:first-of-type)":{color:"white"}},"& #pivotsNav div > a":{"&:hover, :active":{background:"#404040"},"& svg":{fill:"white"}},"& #pivotsNav a > span > div":{[le.D]:{background:"white"}},"& #pivotsNav span > div > a":{"&:hover, :active":{background:"#484848"}},"& #overflowList":Object.assign({"background-color":"#404040"},le.w),"& #overflowBtnId":{"& button:active, & button:hover":{background:"#404040"},"& svg":{fill:"white"}}}},me=Object(i.a)(ge)(W),ve={reactComponent:me,experienceConfigSchema:{},defaultMockState:{},mockState:[{key:"preview",value:{}}],mockConfig:{},inspector:e=>({props:{},missingChildren:[]})}}}]);