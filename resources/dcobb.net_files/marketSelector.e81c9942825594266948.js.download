(window.webpackJsonp=window.webpackJsonp||[]).push([["marketSelector"],{"0pOX":function(e,t,s){"use strict";s.r(t),s.d(t,"MarketSelector",(function(){return z})),s.d(t,"MarketSelectorActions",(function(){return y.a})),s.d(t,"MarketSelectorConnector",(function(){return N})),s.d(t,"MarketSelectorReducer",(function(){return V})),s.d(t,"ToolingInfo",(function(){return H}));var i,n=s("MeOA");!function(e){e.inspector=function(e){return{props:{changeMarketText:e.config.changeMarketText,selectPositionLogic:e.connectorArgs.selectPositionLogic,options:e.config.markets,selectedMarketId:e.state.selectedMarketId,shortcutMarket:e.config.shortcutMarket},missingChildren:[]}}}(i||(i={}));var o=s("+viU"),r=s("D57K"),a=s("/E6d"),l=s("5mwN"),c=s("FPTP"),d=s("K5uZ"),p=s("9Vvf"),u=s("X9F+");const h={select_menu:{"z-index":"1","margin-top":"0px !important"},select__menuPositioningRegion:{"z-index":""+s("0fst").a.Above}};var g=s("ERkP"),m=s.n(g),b=s("o1qX");class f extends l.a{constructor(e){super(e),this.rootElement=m.a.createRef(),this.changeMarketTypographyId="marketSelectorChangeMarket",this.handledProps=Object.assign(Object.assign({},l.b),{changeMarketText:void 0,changeMarketSelection:void 0,disabled:void 0,managedClasses:void 0,marketSelectorTelemetryObject:void 0,options:void 0,selectedMarketId:void 0,shortcutMarket:void 0,selectPositionLogic:void 0}),this.marketSelectorDropDownPosition=()=>{if(this.props.selectPositionLogic){const e=this.getmarketSelectorDropDownPosition();this.setState({marketSelectorListPosition:e})}},this.getmarketSelectorDropDownPosition=()=>{const e=this.rootElement.current.getBoundingClientRect();return(window.innerHeight||document.documentElement.clientHeight)-e.bottom>368?a.c.bottom:a.c.top},this.triggerRenderFunction=(e,t,s)=>{if(e.multiselectable)return null;const{select_button:i,select_buttonContentRegion:n,select_buttonDisplayText:o,select_toggleGlyph:r}=e.managedClasses;return this.props.marketSelectorTelemetryObject&&this.props.marketSelectorTelemetryObject.contract&&this.props.marketSelectorTelemetryObject.contract.content&&(this.props.marketSelectorTelemetryObject.contract.content.headline=t.displayString),m.a.createElement("button",Object.assign({},this.props.marketSelectorTelemetryObject?this.props.marketSelectorTelemetryObject.render():null,{"aria-atomic":!0,"aria-expanded":t.isMenuOpen,"aria-labelledby":this.changeMarketTypographyId+" "+s,className:Object(b.a)(i),disabled:e.disabled,id:s,onClick:this.marketSelectorDropDownPosition,"aria-haspopup":!0}),m.a.createElement("span",{className:Object(b.a)(n)},m.a.createElement("div",{className:Object(b.a)(o)},t.displayString),m.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 12",className:Object(b.a)(r),"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M11.3613 2.73633L11.8887 3.26367L6 9.15234L0.111328 3.26367L0.638672 2.73633L6 8.09766L11.3613 2.73633Z"}))))},this.state={marketSelectorListPosition:a.c.bottom}}render(){super.render();const{managedClasses:e,options:t,shortcutMarket:s}=this.props;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",Object.assign({role:"presentation",ref:this.rootElement},this.unhandledProps(),{className:this.generateClassNames(e.marketSelectorDefault)}),m.a.createElement(c.a,Object.assign({id:this.changeMarketTypographyId,"aria-hidden":!0},this.props.changeMarketText)),m.a.createElement(d.a,{className:e.marketSelectorSelector,jssStyleSheet:h,onValueChange:this.props.changeMarketSelection,selectedItems:[this.props.selectedMarketId],menuFlyoutConfig:this.props.selectPositionLogic?{verticalPositioningMode:a.a.adjacent,defaultVerticalPosition:this.state.marketSelectorListPosition,verticalLockToDefault:!0,viewport:this.rootElement}:null,trigger:this.triggerRenderFunction,disabled:this.props.disabled},t.map((e,s)=>{const{direction:i}=e,n=Object(r.d)(e,["direction"]);return m.a.createElement(p.a,Object.assign({key:s,dir:i,"aria-posinset":s,"aria-setsize":t.length},n))}))),s&&m.a.createElement("div",{role:"menuitem",tabIndex:0,className:e.shortcutMenu,onClick:()=>this.props.changeMarketSelection(s.value)},s.displayString))}}f.defaultProps={experienceName:"MarketSelector"};var y=s("zSBV"),S=s("rvYQ"),O=s("1I/+"),v=s("Am8i"),I=s("esXg"),k=s("mzbC"),C=s("k112"),x=s("KUTD"),j=s("WfnD"),P=s("SSDD"),M=s("Gsg7"),D=s("tWvP"),w=s("D/6c"),_=s("ypwz"),T=s("tMmC");const F=/(\/([a-z]{2}-[a-z]{2}))\/?/i,E=(e,t,s)=>{const i=function(e,t){switch(t){case _.a.Weather:return function(e,t){const s=(e||{})[t];if(!e)return T.a.logError("No PageHomeUrlConfig for appType="+t),(e,t)=>t;return(e,t)=>{const i=new URL(t),n=F.exec(i.pathname);if(n&&n[2]!==e){const t=`/${e}/${s[e]||s.default}`;i.pathname=t,i.search=""}return i.toString()}}(e,t);case _.a.HomePage:return R;default:return null}}(t,s);if(!i)return null;return{urlResolver:i,registerMarketUpdates:()=>{y.a.updateMarketSelection.registerObserver(t=>{const s=t.params[0];if(s&&""!==s){Object(D.a)("marketPref",s,182);const t=i(s,e);t!==e&&Object(w.b)({newUrl:t})}})}}},R=(e,t)=>{const s=new URL(t);if("/"===s.pathname)s.pathname=s.pathname.concat(e);else{const t=F.exec(s.pathname);t&&(s.pathname=s.pathname.replace(t[2],e))}return s.toString()};var A=s("Zn5T"),B=s("HxRh"),L=s("u5KZ");class N extends j.a{constructor(){super(...arguments),this.changeMarketSelection=e=>{Object(C.a)(x.a.MarketChange),this.trackPageInvalidationOnReveal(P.a.MarketChange),y.a.updateMarketSelection.getActionSender(this).send(e)},this.compareDisplayNameDesc=(e,t)=>e.displayString<t.displayString?-1:e.displayString>t.displayString?1:0}mapStateToProps(e){const t=e.selectedMarketId||S.a.CurrentMarket,s={config:this.config,children:this.childComponentInstanceList,state:Object.assign(Object.assign({},e),{selectedMarketId:t}),connectorArgs:{selectPositionLogic:this.selectPositionLogic}},n=i.inspector(s);return Object.assign(Object.assign({},n.props),{changeMarketSelection:this.changeMarketSelection,disabled:e.disabled,options:n.props.options.sort(this.compareDisplayNameDesc),marketSelectorTelemetryObject:this.telemetryObject})}onComponentConnect(e){return Object(r.b)(this,void 0,void 0,(function*(){yield j.a.prototype.onComponentConnect.call(this,e);const t={name:"MarketSelector",behavior:v.b.Customize,content:{headline:""},type:v.e.Module};this.telemetryObject?this.telemetryObject.contract=t:this.telemetryObject=new M.a(t),this.selectPositionLogic=!(!e||!e.selectPositionLogic)&&e.selectPositionLogic;const s=((e,t)=>{try{return E(e,t,S.a.AppType)}catch(e){L.a.sendAppErrorEvent(Object.assign(Object.assign({},B.Ob),{message:"Market selector failed to read current market info",pb:Object.assign(Object.assign({},B.Ob.pb),{customMessage:`[${A.a.marketSelector}] : ${e.message}`})}))}})(Object(O.b)(this.requestContext.data.locationHref,"locationHref"),this.config.marketHomeConfig);if(s&&s.registerMarketUpdates(),!this.config.usePageSettingsData)return;const i=yield Object(I.a)(),n=i?i.getCurrentState():null;n?(y.a.updateMarketSelection.getActionSender(this).send(n.market),k.a.marketUpdated.registerObserver(e=>{const t=e.params[0];y.a.updateMarketSelection.getActionSender(this).send(t)})):y.a.getDefaultMarketFailed.getActionSender(this).send()}))}}var K=s("05Au");class V{reduce(e,t){if(!e)return{selectedMarketId:S.a.CurrentMarket,disabled:!1};if(!t)return e;let s;return K.a.handleAction(t,y.a.updateMarketSelection,t=>{s=Object.assign(Object.assign({},e),{selectedMarketId:t})}),K.a.handleAction(t,y.a.getDefaultMarketFailed,()=>{s=Object.assign(Object.assign({},e),{selectedMarketId:null})}),K.a.handleAction(t,y.a.toggleDisable,t=>{s=Object.assign({},e),s.disabled=t}),s||e}}const z=Object(o.a)(e=>({marketSelectorDefault:{"min-width":"200px"},marketSelectorSelector:{height:"32px","margin-top":"10px","margin-bottom":"8px",width:"100%","& button span":{display:"-ms-grid","-ms-grid-columns":"1fr auto","& svg":{"-ms-grid-column":"2"}}},shortcutMenu:{cursor:"pointer","padding-bottom":"10px","border-bottom":".1rem solid #e5e5e5","&:hover":{background:u.b},"&:active":{background:u.a}}}))(f),H={reactComponent:z,experienceConfigSchema:n.MarketSelectorConfigSchema,mockState:n.mockStates,mockConfig:n.mockConfig,mockConnectorArgs:n.mockConnectorArgs,inspector:i.inspector}},"5XSF":function(e,t,s){"use strict";var i=s("OnwC"),n=s("pWuY"),o=s("o1qX"),r=s("ERkP"),a=s.n(r),l=s("MZhw"),c=s("XJ1h"),d=s("yR4y"),p=s("uT2j");class u extends i.a{constructor(){super(...arguments),this.handledProps={disabled:void 0,managedClasses:void 0,menu:void 0},this.defaultTriggerRenderFunction=(e,t,s)=>{if(e.multiselectable)return null;const{select_button:i,select_buttonContentRegion:n,select_buttonDisplayText:r}=this.props.managedClasses,l=`${Object(c.a)(this.props.labelledBy)?"":this.props.labelledBy+" "}${s}`;return a.a.createElement("button",{id:s,disabled:e.disabled,className:Object(o.a)(i),"aria-haspopup":"listbox","aria-labelledby":l,"aria-expanded":t.isMenuOpen},a.a.createElement("span",{className:Object(o.a)(n)},a.a.createElement("div",{className:Object(o.a)(r)},t.displayString),this.generateGlyph()))},this.defaultMenuRenderFunction=(e,t,s)=>a.a.createElement(p.a,{value:l.c,tag:null},s),this.generateGlyph=()=>a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 12",className:Object(o.a)(this.props.managedClasses.select_toggleGlyph),"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M11.3613 2.73633L11.8887 3.26367L6 9.15234L0.111328 3.26367L0.638672 2.73633L6 8.09766L11.3613 2.73633Z"}))}render(){return a.a.createElement(n.default,Object.assign({},this.unhandledProps(),{managedClasses:this.props.managedClasses,disabled:this.props.disabled,menu:"function"==typeof this.props.menu?this.props.menu:this.defaultMenuRenderFunction,trigger:"function"==typeof this.props.trigger?this.props.trigger:this.defaultTriggerRenderFunction}),this.props.children)}}u.displayName=d.a+"Select",u.defaultProps={managedClasses:{}},t.default=u},"8pea":function(e,t,s){"use strict";var i=s("znWJ");s.o(i,"AutoSuggestContext")&&s.d(t,"AutoSuggestContext",(function(){return i.AutoSuggestContext})),s.o(i,"ButtonDirection")&&s.d(t,"ButtonDirection",(function(){return i.ButtonDirection})),s.o(i,"ProgressType")&&s.d(t,"ProgressType",(function(){return i.ProgressType})),s.o(i,"RadioSlot")&&s.d(t,"RadioSlot",(function(){return i.RadioSlot})),t.default=i.default},"9Vvf":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("+viU"),n=s("CSiZ"),o=s("bN6B");const r=Object(i.a)(n.a)(o.default)},CSiZ:function(e,t,s){"use strict";var i=s("fz//"),n=s("3ZGc"),o=s("iuMt"),r=s("2tnv"),a=s("rRWH"),l=s("PfRV"),c=s("SP+O"),d=s("LD6M"),p=s("7b0X"),u=s("ZEO0"),h=s("zP2P"),g=s("MF9s"),m=s("GaXA"),b=s("8yfO"),f=s("objN");const y={selectOption:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"list-style-type":"none","box-sizing":"border-box",height:Object(h.d)(),display:"flex","align-items":"center",padding:Object(i.a)("0 {0}",Object(h.f)(g.s)),margin:Object(i.a)("0 {0}",Object(n.a)(g.p)),color:c.c,fill:c.c,"white-space":"nowrap",overflow:"hidden"},Object(u.a)()),Object(b.b)("t7")),{background:d.c}),Object(u.c)()),Object(l.a)()),Object(l.d)()),Object(o.a)(Object.assign({"border-color":p.a},f.y))),{"&:hover":Object.assign({background:d.b},f.z)}),f.E),selectOption_contentRegion:Object.assign({overflow:"hidden"},Object(r.a)()),selectOption_glyph:{display:"inline-block",position:"relative",width:h.b,height:h.b,"flex-shrink":"0",margin:Object(a.c)(Object(i.a)("0 {0} 0 0",Object(h.f)()),Object(i.a)("0 0 0 {0}",Object(h.f)()))},selectOption__disabled:Object.assign(Object.assign(Object.assign({},Object(m.a)()),f.k),{"&, &:hover":{background:d.c}}),selectOption__selected:{[f.D]:{background:Object(i.b)(f.a.selectedBackground),"border-color":Object(i.b)(f.a.buttonText),color:Object(i.b)(f.a.selectedText),fill:Object(i.b)(f.a.selectedText)},background:d.d,"&:hover":{background:d.d}}};t.a=y},IWCx:function(e,t){},K5uZ:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("+viU"),n=s("tFIx"),o=s("5XSF");const r=Object(i.a)(n.a)(o.default)},MeOA:function(e,t){},V9Hi:function(e,t){},WPyh:function(e,t,s){"use strict";var i=s("OnwC"),n=s("Gy7L"),o=s("o1qX"),r=s("ERkP"),a=s.n(r),l=s("looh"),c=s("eGM7"),d=s("V9Hi");s.o(d,"AutoSuggestContext")&&s.d(t,"AutoSuggestContext",(function(){return d.AutoSuggestContext})),s.o(d,"ButtonDirection")&&s.d(t,"ButtonDirection",(function(){return d.ButtonDirection})),s.o(d,"ProgressType")&&s.d(t,"ProgressType",(function(){return d.ProgressType})),s.o(d,"RadioSlot")&&s.d(t,"RadioSlot",(function(){return d.RadioSlot}));class p extends i.a{constructor(){super(...arguments),this.handledProps={disabled:void 0,displayString:void 0,managedClasses:void 0,id:void 0,onInvoke:void 0,value:void 0},this.isItemSelected=()=>{let e=!1;return void 0!==this.context.listboxSelectedItems&&(e=1===this.context.listboxSelectedItems.filter(e=>e.id===this.props.id).length),e},this.handleKeyDown=e=>{if(!this.props.disabled&&("function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e),!e.defaultPrevented))switch(e.keyCode){case n.g:case n.l:this.invokeOption(e)}},this.handleClick=e=>{this.props.disabled||("function"==typeof this.props.onClick&&this.props.onClick(e),e.defaultPrevented||this.invokeOption(e))},this.handleFocus=e=>{this.props.disabled||("function"==typeof this.context.listboxItemFocused&&this.context.listboxItemFocused(this.props,e),"function"==typeof this.props.onFocus&&this.props.onFocus(e))}}render(){return a.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),role:"option",id:this.props.id,"aria-selected":this.isItemSelected(),"aria-disabled":this.props.disabled,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown}),this.props.children)}generateClassNames(){const{listboxItem:e,listboxItem__disabled:t,listboxItem__selected:s}=this.props.managedClasses;return super.generateClassNames(Object(o.a)(e,[t,this.props.disabled],[s,this.isItemSelected()]))}invokeOption(e){this.context.listboxItemInvoked&&this.context.listboxItemInvoked(this.props,e),"function"==typeof this.props.onInvoke&&this.props.onInvoke(e,this.props)}}p.displayName=c.DisplayNamePrefix+"ListboxItem",p.contextType=l.a,p.defaultProps={disabled:!1,managedClasses:{}},p.contextType=l.a,t.default=p},bN6B:function(e,t,s){"use strict";var i=s("OnwC"),n=s("uW+H"),o=s("o1qX"),r=s("ERkP"),a=s.n(r),l=s("yR4y");class c extends i.a{constructor(){super(...arguments),this.handledProps={glyph:void 0,value:void 0,id:void 0,managedClasses:void 0}}render(){const{selectOption:e,selectOption__disabled:t,selectOption__selected:s,selectOption_contentRegion:i}=this.props.managedClasses;return a.a.createElement(n.default,Object.assign({},this.unhandledProps(),{id:this.props.id,displayString:this.props.displayString,value:this.props.value,managedClasses:{listboxItem:e,listboxItem__disabled:t,listboxItem__selected:s}}),this.renderGlyph(),a.a.createElement("span",{className:Object(o.a)(i)},this.props.displayString,this.props.children))}renderGlyph(){return"function"==typeof this.props.glyph?this.props.glyph(Object(o.a)(this.props.managedClasses.selectOption_glyph)):null}}c.displayName=l.a+"SelectOption",c.defaultProps={managedClasses:{}},t.default=c},esXg:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("D57K"),n=s("mzbC"),o=s("s9+9"),r=s("9J8d");function a(){return Object(i.b)(this,void 0,void 0,(function*(){return new Promise((e,t)=>Object(i.b)(this,void 0,void 0,(function*(){try{const t=r.a.getInstance().rootReducer.connector(o.a.PageSettingsData);if(t)return e(t);n.a.initialize.registerObserver(()=>e(r.a.getInstance().rootReducer.connector(o.a.PageSettingsData)))}catch(e){t(e)}})))}))}},idMW:function(e,t){},j4yt:function(e,t,s){"use strict";var i=s("OnwC"),n=s("Gy7L"),o=s("FGLN"),r=s("o1qX"),a=s("yqT/"),l=s("vhqU"),c=s("DCIk"),d=s("XJ1h"),p=s("r6MD"),u=s("ERkP"),h=s.n(u),g=s("8pea"),m=s("eGM7"),b=s("jAzu"),f=s("idMW");s.o(f,"AutoSuggestContext")&&s.d(t,"AutoSuggestContext",(function(){return f.AutoSuggestContext})),s.o(f,"ButtonDirection")&&s.d(t,"ButtonDirection",(function(){return f.ButtonDirection})),s.o(f,"ProgressType")&&s.d(t,"ProgressType",(function(){return f.ProgressType})),s.o(f,"RadioSlot")&&s.d(t,"RadioSlot",(function(){return f.RadioSlot}));class y extends i.a{constructor(e){super(e),this.handledProps={isMenuOpen:void 0,disabled:void 0,displayStringFormatter:void 0,form:void 0,labelledBy:void 0,multiselectable:void 0,trigger:void 0,menu:void 0,required:void 0,managedClasses:void 0,selectedItems:void 0,defaultSelection:void 0,onValueChange:void 0,placeholder:void 0,autoFocus:void 0,menuFlyoutConfig:void 0,onMenuSelectionChange:void 0},this.rootElement=h.a.createRef(),this.triggerId=Object(l.a)(y.triggerUniqueIdPrefix),this.checkPropsForMenuState=()=>{let e=!1;return void 0!==this.props.isMenuOpen?e=this.props.isMenuOpen:!0===this.props.multiselectable&&(e=!0),e},this.onSelectValueChange=e=>null,this.menuSelectionChange=e=>{"function"==typeof this.props.onMenuSelectionChange&&this.props.onMenuSelectionChange(e),this.updateSelection(e)},this.updateSelection=e=>{e=this.trimSelection(e);const t=this.getValueFromSelection(e);if(this.state.value===t)return;const s=this.getFormattedDisplayString(e);if("function"!=typeof this.props.onValueChange||Object(c.a)(e,this.state.selectedItems)||this.props.onValueChange(t,e,s),void 0===this.props.selectedItems){const i=this.getValidOptions();this.setState({selectedItems:e,value:t,displayString:s,selectedItemIndex:this.getSelectedItemPosInSet(i,e),selectableItemCount:i.length})}},this.updateSelectionFromProps=()=>{const e=this.trimSelection(g.default.getListboxItemDataFromIds(this.props.selectedItems,this.props.children));this.setState({selectedItems:e,value:this.getValueFromSelection(e),displayString:this.getFormattedDisplayString(e)})},this.trimSelection=e=>!1===this.props.multiselectable&&e.length>1?[this.state.selectedItems[0]]:e,this.getValueFromSelection=e=>this.props.multiselectable?e.map(e=>e.value):0===e.length?"":e[0].value,this.getSelectedItemPosInSet=(e,t)=>{if(!this.props.multiselectable&&1===t.length){const s=t[0].id,i=e.length;for(let t=0;t<i;t++)if(e[t].props[y.idPropertyKey]===s)return t+1}return 0},this.defaultTriggerRenderFunction=(e,t,s)=>{if(e.multiselectable)return null;const i=`${Object(d.a)(this.props.labelledBy)?"":this.props.labelledBy+" "}${s}`;return h.a.createElement("button",{disabled:e.disabled,id:s,"aria-haspopup":"listbox","aria-labelledby":i,"aria-expanded":t.isMenuOpen},t.displayString)},this.defaultDisplayStringFormatter=(e,t)=>{const s=e.map(e=>e.displayString||e.value);return e.length>0?s.join(", "):t},this.handleClick=e=>{"function"==typeof this.props.onClick&&this.props.onClick(e),this.props.disabled||e.defaultPrevented||(e.preventDefault(),this.toggleMenu(!this.state.isMenuOpen),!1===this.validateMenuState(!this.state.isMenuOpen)&&this.focusTriggerElement())},this.handleKeydown=e=>{if("function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e),!this.props.disabled&&!e.defaultPrevented)switch(e.keyCode){case n.g:case n.l:e.preventDefault(),this.toggleMenu(!this.state.isMenuOpen),!1===this.validateMenuState(!this.state.isMenuOpen)&&this.focusTriggerElement();break;case n.h:e.preventDefault(),this.toggleMenu(!1),this.focusTriggerElement();break;case n.b:case n.d:e.preventDefault(),this.props.multiselectable||this.state.isMenuOpen||this.incrementSelectedOption(1);break;case n.e:case n.c:e.preventDefault(),this.props.multiselectable||this.state.isMenuOpen||this.incrementSelectedOption(-1)}},this.incrementSelectedOption=e=>{const t=h.a.Children.toArray(this.props.children);if(1===this.state.selectedItems.length){const s=g.default.getItemIndexById(this.state.selectedItems[0].id,this.props.children);if(-1!==s){const i=s+e,n=e>-1?t.length-1:0;this.selectItemInRange(i,n,t,e)}}else{const s=e>-1,i=t.length-1;this.selectItemInRange(s?0:i,s?i:0,t,e)}},this.selectItemInRange=(e,t,s,i)=>{const n=g.default.getFirstValidOptionInRange(e,t,s,i);Object(d.a)(n)||this.updateSelection([n.props])},this.toggleMenu=e=>{const t=this.validateMenuState(e);t!==this.state.isMenuOpen&&this.setState({isMenuOpen:t})},this.validateMenuState=e=>{let t=e;return void 0!==this.props.isMenuOpen?t=this.props.isMenuOpen:!0===this.props.multiselectable&&(t=!0),t},this.handleMenuBlur=e=>{this.state.isMenuOpen&&!this.props.multiselectable&&null!==this.rootElement.current&&(!this.rootElement.current.contains(e.relatedTarget)||Object(o.e)(e.relatedTarget)&&e.relatedTarget.id===this.triggerId)&&this.toggleMenu(!1)},this.getFormattedDisplayString=e=>void 0===this.props.displayStringFormatter?this.defaultDisplayStringFormatter(e,this.props.placeholder):this.props.displayStringFormatter(e,this.props.placeholder),this.isFocusableButton=e=>e instanceof HTMLButtonElement&&"true"!==e.getAttribute("aria-disabled"),this.focusTriggerElement=()=>{const e=this.getTriggerButton();null!==e&&e.focus()},this.getValidOptions=()=>g.default.getValidOptions(h.a.Children.toArray(this.props.children));let t=this.trimSelection(g.default.getListboxItemDataFromIds(void 0!==this.props.selectedItems?this.props.selectedItems:this.props.defaultSelection,this.props.children));!this.props.multiselectable&&t.length>1&&(t=t.slice(0,1));const s=this.getValidOptions();this.state={selectedItems:t,value:this.getValueFromSelection(t),displayString:this.getFormattedDisplayString(t),isMenuOpen:this.validateMenuState(!1),selectedItemIndex:this.getSelectedItemPosInSet(s,t),selectableItemCount:s.length}}componentDidUpdate(e){let t=!1,s=this.state.isMenuOpen;e.multiselectable!==this.props.multiselectable&&(t=!0,s=this.checkPropsForMenuState()),e.isMenuOpen!==this.props.isMenuOpen&&(s=this.checkPropsForMenuState()),s!==this.state.isMenuOpen&&this.toggleMenu(s),e.selectedItems===this.props.selectedItems?t&&this.updateSelection(this.state.selectedItems.map(e=>e)):this.updateSelectionFromProps()}componentDidMount(){this.toggleMenu(this.checkPropsForMenuState()),!this.props.autoFocus||this.state.isMenuOpen||this.props.multiselectable||this.focusTriggerElement()}render(){return h.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.rootElement,className:this.generateClassNames(),onKeyDown:this.handleKeydown,onClick:this.handleClick}),this.renderTrigger(),this.renderHiddenSelectElement(),this.renderMenu())}generateClassNames(){const{select:e,select__scaleToFit:t,select__disabled:s,select_menu__open:i,select__multiSelectable:n}=this.props.managedClasses;return super.generateClassNames(Object(r.a)(e,[t,!Object(d.a)(this.props.menuFlyoutConfig)&&this.props.menuFlyoutConfig.scaleToFit],[s,this.props.disabled],[i,this.state.isMenuOpen],[n,this.props.multiselectable]))}renderHiddenSelectElement(){return h.a.createElement("select",{required:this.props.required||null,name:this.props.name||null,form:this.props.form||null,value:this.state.value,multiple:this.props.multiselectable||null,disabled:this.props.disabled||null,onChange:this.onSelectValueChange,style:{display:"none"}})}renderTrigger(){return void 0!==this.props.trigger?this.props.trigger(this.props,this.state,this.triggerId):this.defaultTriggerRenderFunction(this.props,this.state,this.triggerId)}renderMenu(){if(!this.state.isMenuOpen)return;let e=!this.props.multiselectable;this.props.multiselectable&&this.props.autoFocus&&(e=this.props.multiselectable);const t=h.a.createElement(g.default,{labelledBy:this.props.labelledBy,disabled:this.props.disabled,focusItemOnMount:e,multiselectable:this.props.multiselectable,defaultSelection:this.state.selectedItems,selectedItems:this.props.selectedItems,onSelectedItemsChanged:this.menuSelectionChange,onBlur:this.handleMenuBlur,selectOnFocus:!1,tabIndex:-1,managedClasses:{listbox:Object(p.a)(this.props.managedClasses,"select_menu",""),listbox__disabled:Object(p.a)(this.props.managedClasses,"select_menuDisabled","")}},this.props.children),s="function"==typeof this.props.menu?this.props.menu(this.props,this.state,t):t;return Object(d.a)(this.props.menuFlyoutConfig)?s:h.a.createElement(b.a,Object.assign({anchor:this.rootElement},this.props.menuFlyoutConfig,{managedClasses:this.generateViewportPositionerClassNames()}),s)}generateViewportPositionerClassNames(){const{select__menuPositioningRegion:e,select__menuPositionLeft:t,select__menuPositionRight:s,select__menuPositionTop:i,select__menuPositionBottom:n,select__menuPositionHorizontalInset:o,select__menuPositionVerticalInset:r}=this.props.managedClasses;return{viewportPositioner:e,viewportPositioner__left:t,viewportPositioner__right:s,viewportPositioner__top:i,viewportPositioner__bottom:n,viewportPositioner__horizontalInset:o,viewportPositioner__verticalInset:r}}getTriggerButton(){const e=Object(a.a)()&&this.rootElement.current instanceof HTMLElement?Array.from(this.rootElement.current.children):[],t=e.findIndex(this.isFocusableButton);return-1!==t?e[t]:null}}y.displayName=m.DisplayNamePrefix+"Select",y.defaultProps={multiselectable:!1,disabled:!1,defaultSelection:[],placeholder:"",managedClasses:{}},y.idPropertyKey="id",y.triggerUniqueIdPrefix="selecttrigger-",t.default=y},kpPY:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return o}));s("nwjK");function i(e,...t){return e.replace(/{(\d+)}/g,(function(e,s){if(s>=t.length)return e;const i=t[s];return"number"==typeof i||i?i:""}))}function n(e,t,s=0){return!(!e||!t)&&e.substr(s,t.length)===t}function o(e){return!e||!e.trim()}},looh:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("ERkP");const n=s.n(i).a.createContext({listboxItemInvoked:null,listboxItemFocused:null,listboxSelectedItems:[],listboxMultiselectable:!1})},pWuY:function(e,t,s){"use strict";var i=s("j4yt");s.o(i,"AutoSuggestContext")&&s.d(t,"AutoSuggestContext",(function(){return i.AutoSuggestContext})),s.o(i,"ButtonDirection")&&s.d(t,"ButtonDirection",(function(){return i.ButtonDirection})),s.o(i,"ProgressType")&&s.d(t,"ProgressType",(function(){return i.ProgressType})),s.o(i,"RadioSlot")&&s.d(t,"RadioSlot",(function(){return i.RadioSlot})),t.default=i.default},tFIx:function(e,t,s){"use strict";var i=s("2tnv"),n=s("rRWH"),o=s("fz//"),r=s("3ZGc"),a=s("SP+O"),l=s("MZhw"),c=s("QhQn"),d=s("zP2P"),p=s("7FLv"),u=s("HzrG"),h=s("PfRV"),g=s("MF9s"),m=s("NZin"),b=s("ZEO0"),f=s("objN");const y={select:{"max-width":"374px",height:Object(d.d)()},select_button:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(b.c)()),{height:Object(d.d)(),width:"100%"}),Object(m.c)()),f.x),{"&:disabled > span > svg":Object.assign({},f.l)}),select_buttonContentRegion:{display:"grid","grid-template-columns":"1fr auto","align-items":"center","justify-items":"start"},select_buttonDisplayText:Object.assign(Object.assign({},Object(i.a)()),{"text-align":Object(n.c)("left","right"),width:"100%"}),select_toggleGlyph:Object.assign({margin:e=>Object(n.d)(e&&e.direction||u.b.direction)(Object(o.a)("0 0 0 {0}",Object(d.f)())(e)),fill:a.c,width:d.b,height:d.b,"grid-column-start":"2"},f.o),select_menu:Object.assign(Object.assign(Object.assign({background:l.c},Object(h.b)()),Object(p.b)(p.a.e11)),{position:"relative",width:"100%",margin:"0",padding:Object(o.a)("{0} 0",Object(r.a)(g.p)),"max-height":"328px",overflow:"auto",[f.D]:Object.assign(Object.assign({},f.w),{background:f.a.buttonBackground,border:Object(o.a)("{0} solid {1}",Object(r.a)(g.X),()=>f.a.buttonText)})}),select__multiSelectable:{"& $select_menu":{position:"static","box-shadow":"none",border:"1px solid","border-color":c.c}},select__menuPositioningRegion:{display:"grid","grid-template-columns":"1fr","grid-template-rows":"1fr"},select__menuPositionLeft:{"grid-template-columns":"1fr auto","& $select_menu":{"grid-column":"2"}},select__menuPositionRight:{"grid-template-columns":"auto 1fr","& $select_menu":{"grid-column":"1"}},select__menuPositionTop:{"grid-template-rows":"1fr auto","& $select_menu":{"grid-row":"2"}},select__menuPositionBottom:{"grid-template-rows":"auto 1fr","& $select_menu":{"grid-row":"1"}}};t.a=y},"uW+H":function(e,t,s){"use strict";var i=s("WPyh");s.o(i,"AutoSuggestContext")&&s.d(t,"AutoSuggestContext",(function(){return i.AutoSuggestContext})),s.o(i,"ButtonDirection")&&s.d(t,"ButtonDirection",(function(){return i.ButtonDirection})),s.o(i,"ProgressType")&&s.d(t,"ProgressType",(function(){return i.ProgressType})),s.o(i,"RadioSlot")&&s.d(t,"RadioSlot",(function(){return i.RadioSlot})),t.default=i.default},zSBV:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("G82u");class n{}n.updateMarketSelection=new i.a("Update market selection"),n.getDefaultMarketFailed=new i.a("Get default market failed"),n.toggleDisable=new i.a("Toggle disable")},znWJ:function(e,t,s){"use strict";var i=s("OnwC"),n=s("Gy7L"),o=s("kpPY"),r=s("o1qX"),a=s("yqT/"),l=s("DCIk"),c=s("XJ1h"),d=s("d/Vl"),p=s("ERkP"),u=s.n(p),h=s("eGM7"),g=s("looh"),m=s("IWCx");s.o(m,"AutoSuggestContext")&&s.d(t,"AutoSuggestContext",(function(){return m.AutoSuggestContext})),s.o(m,"ButtonDirection")&&s.d(t,"ButtonDirection",(function(){return m.ButtonDirection})),s.o(m,"ProgressType")&&s.d(t,"ProgressType",(function(){return m.ProgressType})),s.o(m,"RadioSlot")&&s.d(t,"RadioSlot",(function(){return m.RadioSlot}));class b extends i.a{constructor(e){super(e),this.handledProps={children:void 0,defaultSelection:void 0,disabled:void 0,labelledBy:void 0,managedClasses:void 0,multiselectable:void 0,onItemInvoked:void 0,onSelectedItemsChanged:void 0,selectedItems:void 0,typeAheadEnabled:void 0,typeAheadPropertyKey:void 0,focusItemOnMount:void 0,selectOnFocus:void 0},this.rootElement=u.a.createRef(),this.typeAheadString="",this.shiftRangeSelectStartIndex=-1,this.renderChild=(e,t)=>u.a.cloneElement(e,{tabIndex:t===this.state.focusIndex?0:-1}),this.isFocusableElement=e=>e instanceof HTMLElement&&"option"===e.getAttribute("role")&&!this.isDisabledElement(e)&&!this.props.disabled,this.isDisabledElement=e=>e instanceof HTMLElement&&"true"===e.getAttribute("aria-disabled"),this.setInitialFocus=(e,t)=>{let s=-1;for(let t=0;t<e.length;t++)s=b.getItemIndexById(e[t].id,this.props.children);-1===s&&(s=this.domChildren().findIndex(this.isFocusableElement)),this.props.focusItemOnMount&&t&&-1!==s?this.setFocus(s,1):this.setState({focusIndex:s})},this.getInitialSelection=()=>{let e;return e=void 0!==this.props.selectedItems?b.getListboxItemDataFromIds(this.props.selectedItems,this.props.children):b.getListboxItemDataFromIds(this.props.defaultSelection,this.props.children),!this.props.multiselectable&&e.length>1&&(e=e.slice(0,1)),e},this.listboxItemfocused=(e,t)=>{if(this.props.disabled)return;const s=t.currentTarget,i=this.domChildren().indexOf(s);this.isDisabledElement(s)?s.blur():(this.setState({focusIndex:i,focussedItemId:e.id}),!this.props.multiselectable&&this.props.selectOnFocus&&this.updateSelection([e]))},this.handleMenuKeyDown=e=>{if("function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e),e.defaultPrevented||this.props.disabled)return;let t;switch(e.keyCode){case n.h:case n.g:case n.l:case n.m:return;case n.b:case n.d:if(t=this.setFocus(this.state.focusIndex+1,1),this.props.multiselectable&&e.shiftKey&&""!==t){const e=b.getItemPropsById(t,this.props.children);null!==e&&this.toggleItem(e)}e.preventDefault();break;case n.e:case n.c:if(t=this.setFocus(this.state.focusIndex-1,-1),this.props.multiselectable&&e.shiftKey&&""!==t){const e=b.getItemPropsById(t,this.props.children);null!==e&&this.toggleItem(e)}e.preventDefault();break;case n.f:this.props.multiselectable&&e.shiftKey&&e.ctrlKey&&this.selectRange(this.state.focusIndex,this.domChildren().length-1),this.setFocus(this.domChildren().length-1,-1);break;case n.i:this.props.multiselectable&&e.shiftKey&&e.ctrlKey&&this.selectRange(0,this.state.focusIndex),this.setFocus(0,1);break;default:"A"===e.key?this.selectRange(0,this.domChildren().length):!e.ctrlKey&&this.props.typeAheadEnabled&&this.processTypeAhead(e)}},this.processTypeAhead=e=>{clearTimeout(this.typeAheadTimer),this.typeAheadString=this.typeAheadString+e.key.toLowerCase();let t=-1;u.a.Children.toArray(this.props.children).some((e,s)=>void 0!==e.props[this.props.typeAheadPropertyKey]&&(Object(o.c)(e.props[this.props.typeAheadPropertyKey].toLowerCase(),this.typeAheadString)?(t=s,!0):void 0)),-1!==t?(this.typeAheadTimer=setTimeout(()=>{this.typeAheadTimerExpired()},1e3),this.setFocus(t,1)):this.typeAheadString=""},this.typeAheadTimerExpired=()=>{this.typeAheadString="",clearTimeout(this.typeAheadTimer)},this.listboxItemInvoked=(e,t)=>{if(this.props.disabled)return;"function"==typeof this.props.onItemInvoked&&this.props.onItemInvoked(e);const s=t.currentTarget,i=this.domChildren().indexOf(s);this.props.multiselectable&&"click"===t.type?(t.shiftKey&&-1!==this.shiftRangeSelectStartIndex||(this.shiftRangeSelectStartIndex=i),t.ctrlKey?this.toggleItem(e):t.shiftKey?this.selectRange(this.shiftRangeSelectStartIndex,i):this.updateSelection([e])):this.props.multiselectable&&"keydown"===t.type?t.shiftKey?this.selectRange(this.shiftRangeSelectStartIndex,i):this.toggleItem(e):this.updateSelection([e])},this.toggleItem=e=>{const t=this.state.selectedItems.filter(t=>t.id!==e.id);if(t.length<this.state.selectedItems.length)this.updateSelection(t);else{const t=this.state.selectedItems.concat([e]);this.updateSelection(t)}},this.selectRange=(e,t)=>{const s=u.a.Children.toArray(this.props.children).slice(e>=t?t:e,e>=t?e+1:t+1).map(e=>e.props);this.updateSelection(s)},this.updateSelection=e=>{const t=b.validateSelection(e,this.props.children);return Object(l.a)(t,this.state.selectedItems)||(void 0===this.props.selectedItems&&this.setState({selectedItems:t}),this.props.onSelectedItemsChanged&&this.props.onSelectedItemsChanged(t)),t},this.state={focusIndex:-1,focussedItemId:"",selectedItems:this.getInitialSelection()}}static getListboxItemDataFromIds(e,t){return b.validateSelection(e,t)}static getItemIndexById(e,t){return u.a.Children.toArray(t).findIndex(t=>void 0!==t.props[b.idPropertyKey]&&t.props[b.idPropertyKey]===e)}static isValidSelectedItem(e){return void 0!==e&&!0!==e.props[b.disabledPropertyKey]&&void 0!==e.props[b.valuePropertyKey]}static getNodeById(e,t){return u.a.Children.toArray(t).find(t=>void 0!==t.props[b.idPropertyKey]&&t.props[b.idPropertyKey]===e)}static getItemPropsById(e,t){const s=this.getNodeById(e,t);return void 0!==s?s.props:null}static validateSelection(e,t){return e.map(e=>{let s="";s="string"==typeof e?e:e.id;const i=this.getNodeById(s,t);return b.isValidSelectedItem(i)?i.props:null}).filter(e=>null!==e)}render(){return u.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.rootElement,role:"listbox","aria-disabled":this.props.disabled||null,"aria-multiselectable":this.props.multiselectable||null,"aria-activedescendant":this.state.focussedItemId,"aria-labelledby":this.props.labelledBy||null,className:this.generateClassNames(),onKeyDown:this.handleMenuKeyDown}),u.a.createElement(g.a.Provider,{value:{listboxSelectedItems:this.state.selectedItems,listboxItemFocused:this.listboxItemfocused,listboxItemInvoked:this.listboxItemInvoked,listboxMultiselectable:this.props.multiselectable}},this.renderChildren()))}componentDidUpdate(e){let t=null;if(Object(l.a)(e.defaultSelection,this.props.defaultSelection)||void 0!==this.props.selectedItems||(t=this.updateSelection(this.getInitialSelection())),e.children!==this.props.children){t=null===t?this.updateSelection(this.state.selectedItems.slice(0)):t;const e=this.domChildren();if(!Object(c.a)(this.rootElement.current)&&this.rootElement.current.contains(document.activeElement))return void this.setState({focusIndex:e.indexOf(document.activeElement)});(e.length<=this.state.focusIndex||!this.isFocusableElement(e[this.state.focusIndex]))&&this.setInitialFocus(t,!1)}}componentDidMount(){this.setInitialFocus(this.state.selectedItems,!0)}componentWillUnmount(){clearTimeout(this.typeAheadTimer)}generateClassNames(){const{listbox:e,listbox__disabled:t}=this.props.managedClasses;return super.generateClassNames(Object(r.a)(e,[t,this.props.disabled]))}renderChildren(){return u.a.Children.map(this.props.children,this.renderChild)}domChildren(){return Object(a.a)()&&this.rootElement.current instanceof HTMLElement?Array.from(this.rootElement.current.children):[]}setFocus(e,t){const s=this.domChildren();let i="";for(;Object(d.a)(e,s.length);){const n=s[e];if(i=n.id,this.isFocusableElement(n)){this.props.disabled||n.focus();break}e+=t}return i}}b.displayName=h.DisplayNamePrefix+"Listbox",b.defaultProps={multiselectable:!1,defaultSelection:[],typeAheadPropertyKey:"displayString",typeAheadEnabled:!0,focusItemOnMount:!1,managedClasses:{},selectOnFocus:!0},b.getFirstValidOptionInRange=(e,t,s,i)=>{for(let n=e;n!==t+i;n+=i){const e=s[n];return b.isValidSelectedItem(e)?e:null}},b.getValidOptions=e=>e.filter(e=>b.isValidSelectedItem(e)),b.valuePropertyKey="value",b.idPropertyKey="id",b.disabledPropertyKey="disabled",t.default=b}}]);